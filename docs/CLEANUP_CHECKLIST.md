# –ß–µ–∫–ª–∏—Å—Ç –æ—á–∏—Å—Ç–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

[C7-ID: CODE-CLEANUP-032] –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

## ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. Code Quality

```bash
# –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
make quality

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
make lint           # ‚úÖ –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏
make format-check   # ‚úÖ –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏
make dead-code      # ‚ö†Ô∏è  –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
make check-duplicates  # ‚ö†Ô∏è  –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

### 2. Pre-commit Hooks

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ hooks —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
pre-commit run --all-files

# –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
make pre-commit-install
```

### 3. –ò–º–ø–æ—Ä—Ç—ã

- ‚ùå –ù–ï –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `/legacy/`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `shared.feature_flags` –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã: `lint-imports`

### 4. Deprecated –∫–æ–¥

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ deprecated –º–æ–¥—É–ª–µ–π
grep -r "from worker.shared.s3_storage" .
grep -r "from worker.health_check" .
grep -r "from worker.feature_flags" .  # –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shared
```

### 5. –¢–µ—Å—Ç—ã

- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –≤ `tests/` (unit/, integration/, e2e/)
- ‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å `test_*.py` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ)
make inventory
```

### Legacy cleanup

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ legacy —Ñ–∞–π–ª–æ–≤ (–ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º)
make clean-legacy
```

## üö® –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–∏ –æ—à–∏–±–∫–∏ ‚Äî –∏—Å–ø—Ä–∞–≤—å—Ç–µ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:

- `ImportError: cannot import from legacy/` ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
- `worker.feature_flags is deprecated` ‚Üí –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ –Ω–∞ `shared.feature_flags`
- `Architecture violation: api imports worker` ‚Üí –ò—Å–ø—Ä–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ `git commit`:

- [ ] `make quality` –ø—Ä–æ—Ö–æ–¥–∏—Ç
- [ ] Pre-commit hooks —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –∏–º–ø–æ—Ä—Ç–æ–≤ –∏–∑ legacy/
- [ ] Feature flags –∏—Å–ø–æ–ª—å–∑—É—é—Ç shared.feature_flags
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ù–µ—Ç –Ω–æ–≤—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ `make check-duplicates`)

