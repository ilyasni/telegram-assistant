# Ограничения OCR Fallback

## Контекст

OCR Fallback используется как запасной вариант, когда GigaChat Vision API недоступен или не используется. Текущая реализация использует локальные OCR библиотеки (например, Tesseract).

## Ограничения

### 1. Отсутствие GPU

**Проблема**: Система не имеет доступа к GPU для ускорения OCR обработки.

**Влияние**:
- Медленная обработка изображений
- Высокая нагрузка на CPU
- Ограниченная пропускная способность

### 2. Отсутствие локальных моделей

**Проблема**: Нет возможности использовать современные локальные OCR модели (например, EasyOCR, PaddleOCR), которые требуют GPU или значительных ресурсов.

**Влияние**:
- Использование только базовых OCR библиотек (Tesseract)
- Низкое качество распознавания для сложных изображений
- Ограниченная поддержка языков

### 3. Производительность

**Проблема**: CPU-based OCR обработка медленнее GPU-ускоренной в 10-100 раз.

**Влияние**:
- Долгая обработка больших изображений
- Риск таймаутов при обработке батчей
- Высокая нагрузка на систему

## Рекомендации

### Для Production

1. **Отключить OCR Fallback в production**:
   ```yaml
   enrichment:
     ocr_fallback_enabled: false
   ```

2. **Использовать GigaChat Vision API** как основной источник OCR данных.

3. **Мониторинг**: Если GigaChat Vision API недоступен, логировать предупреждения, но не использовать OCR Fallback.

### Для Development/Testing

1. OCR Fallback может быть включен для тестирования:
   ```yaml
   enrichment:
     ocr_fallback_enabled: true  # Только для dev/test
   ```

2. Ограничить использование:
   - Только для небольшого количества изображений
   - Только для простых изображений с текстом
   - С увеличенными таймаутами

## Конфигурация

Флаг `ocr_fallback_enabled` управляется через `enrichment_policy.yml`:

```yaml
enrichment:
  ocr_fallback_enabled: false  # По умолчанию отключено в production
```

## Примечания

- OCR Fallback не является заменой для GigaChat Vision API
- Использовать только как временное решение для тестирования
- Для production рекомендуется полагаться на GigaChat Vision API или другие cloud-based OCR сервисы

