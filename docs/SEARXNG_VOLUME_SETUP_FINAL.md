# SearXNG - –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ volume –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–î–∞—Ç–∞**: 2025-02-02

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞
SearXNG –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Ö–æ—á–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å `/etc/searxng/limiter.toml`. –ü—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª.

### –†–µ—à–µ–Ω–∏–µ

#### 1. docker-compose.yml —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

```yaml
volumes:
  - ./searxng:/etc/searxng:rw  # –∫–∞—Ç–∞–ª–æ–≥ —Ü–µ–ª–∏–∫–æ–º, –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
```

#### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ (–æ–¥–∏–Ω —Ä–∞–∑)

–¢–µ–∫—É—â–∏–π –≤–ª–∞–¥–µ–ª–µ—Ü –∫–∞—Ç–∞–ª–æ–≥–∞: `977:977`

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –ø—Ä–∞–≤–∞
sudo chown -R 977:977 /opt/telegram-assistant/searxng
sudo chmod -R 755 /opt/telegram-assistant/searxng
```

#### 3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å ACL –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –ü–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –æ—Ç —Å–≤–æ–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo setfacl -R -m u:$(id -u):rwX -m d:u:$(id -u):rwX /opt/telegram-assistant/searxng
sudo setfacl -R -m u:977:rwX -m d:u:977:rwX /opt/telegram-assistant/searxng
```

#### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å SearXNG

```bash
docker compose --profile rag up -d searxng
```

## üìã –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∞–º —Å–æ–∑–¥–∞—Å—Ç/–ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç `limiter.toml` –≤–Ω—É—Ç—Ä–∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞
2. ‚úÖ –ù–µ –Ω–∞–¥–æ –≥–æ–Ω—è—Ç—å—Å—è –∑–∞ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
3. ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –æ—Ç —Å–≤–æ–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å ACL)
4. ‚úÖ SearXNG –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ –ø–∏—Å–∞—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la /opt/telegram-assistant/searxng/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å
docker compose exec searxng touch /etc/searxng/test.txt
ls -la /opt/telegram-assistant/searxng/test.txt
docker compose exec searxng rm /etc/searxng/test.txt
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ö–∞—Ç–∞–ª–æ–≥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º (`./searxng:/etc/searxng:rw`)
- –ù–µ –º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (`./searxng/settings.yml:/etc/searxng/settings.yml`)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –æ–¥–∏–Ω —Ä–∞–∑, –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

