# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram –±–æ—Ç–µ

**–î–∞—Ç–∞**: 2025-11-05  
**Context7**: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (RAG) –∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (SaluteSpeech)

---

## üìù –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** (–Ω–µ –∫–æ–º–∞–Ω–¥—É)
2. **–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** —á–µ—Ä–µ–∑ RAG Service
3. **–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞–º–µ—Ä–µ–Ω–∏–µ** (ask, search, recommend, trend, digest)
4. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç–≤–µ—Ç** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ AI?
–ë–æ—Ç: [–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ RAG]
–ë–æ—Ç: ü§ñ –†–µ–∑—É–ª—å—Ç–∞—Ç:
     [–û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å—Ç–æ–≤ –∏–∑ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
     
     üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:
     1. [–ö–∞–Ω–∞–ª 1]
     2. [–ö–∞–Ω–∞–ª 2]
```

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –Ω–∞–º–µ—Ä–µ–Ω–∏–π

- `/search <–∑–∞–ø—Ä–æ—Å>` ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∫–∞–∫ –ø–æ–∏—Å–∫
- `/recommend <–∑–∞–ø—Ä–æ—Å>` ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∫–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å** (< 3 —Å–∏–º–≤–æ–ª–æ–≤) ‚Äî –±–æ—Ç –ø—Ä–æ—Å–∏—Ç —É—Ç–æ—á–Ω–∏—Ç—å
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω** ‚Äî –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/start`
- **–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è** ‚Äî –∑–∞–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–π, –Ω—É–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å

---

## üé§ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**
2. **–ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (`VOICE_TRANSCRIPTION_ENABLED`)
3. **–°–∫–∞—á–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ** –∏–∑ Telegram
4. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ SaluteSpeech API**
5. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ RAG**

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **SaluteSpeech API –Ω–∞—Å—Ç—Ä–æ–µ–Ω**:
  - `SALUTESPEECH_CLIENT_ID`
  - `SALUTESPEECH_CLIENT_SECRET`
  - `SALUTESPEECH_SCOPE=SALUTE_SPEECH_PERS`
  - `SALUTESPEECH_URL=https://smartspeech.sber.ru/rest/v1`

- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã**:
  - `VOICE_TRANSCRIPTION_ENABLED=true`
  - `VOICE_MAX_DURATION_SEC=60` (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏?"]
–ë–æ—Ç: üé§ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...
–ë–æ—Ç: üé§ –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ:
     –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏?
     
     üîç –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∑–∞–ø—Ä–æ—Å...
–ë–æ—Ç: ü§ñ –†–µ–∑—É–ª—å—Ç–∞—Ç:
     [–û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å—Ç–æ–≤ –∏–∑ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 60 —Å–µ–∫—É–Ω–¥ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `VOICE_MAX_DURATION_SEC`)
- **–§–æ—Ä–º–∞—Ç**: OGG Opus (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Telegram)
- **–Ø–∑—ã–∫**: –†—É—Å—Å–∫–∏–π (ru)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞** ‚Äî –±–æ—Ç —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
- **–°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ** ‚Äî –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ä–µ—á—å** ‚Äî –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∑–∞–Ω–æ–≤–æ
- **–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è** ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ —Å SaluteSpeech API

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤

```
–¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    ‚Üì
handle_text_message()
    ‚Üì
_rag_query()
    ‚Üì
POST /api/rag/query
    ‚Üì
RAGService.query()
    ‚Üì
IntentClassifier ‚Üí –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è
    ‚Üì
Qdrant ‚Üí –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
    ‚Üì
SearXNG ‚Üí –≤–Ω–µ—à–Ω–∏–π –ø–æ–∏—Å–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    ‚Üì
Neo4j ‚Üí GraphRAG (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    ‚Üì
GigaChat ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
    ‚Üì
–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

```
–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    ‚Üì
handle_voice_message()
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    ‚Üì
–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ (—á–µ—Ä–µ–∑ global bot)
    ‚Üì
SaluteSpeechService.transcribe()
    ‚Üì
–ö—ç—à Redis (–ø—Ä–æ–≤–µ—Ä–∫–∞)
    ‚Üì
SaluteSpeech API (/stt)
    ‚Üì
–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    ‚Üì
_rag_query()
    ‚Üì
[–¢–æ—Ç –∂–µ –ø—Ä–æ—Ü–µ—Å—Å, —á—Ç–æ –∏ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π]
```

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Context7 Best Practices)

#### 1. SaluteSpeech Service ‚Äî async Redis

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Redis –∫–ª–∏–µ–Ω—Ç –≤ async –º–µ—Ç–æ–¥–∞—Ö.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
# –ë—ã–ª–æ:
from redis import Redis
cached = self.redis_client.get(cache_key)  # –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π

# –°—Ç–∞–ª–æ:
import redis.asyncio as redis
cached = await self.redis_client.get(cache_key)  # Async
```

#### 2. Bot —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–æ–∑–¥–∞–≤–∞–ª—Å—è –Ω–æ–≤—ã–π Bot —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
# –ë—ã–ª–æ:
from aiogram import Bot
bot = Bot(token=settings.telegram_bot_token)  # –ù–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä

# –°—Ç–∞–ª–æ:
from bot.webhook import bot as global_bot  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π
```

#### 3. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (get_file ‚Üí download_file).

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
# –ë—ã–ª–æ:
file = await bot.get_file(msg.voice.file_id)
audio_data = await bot.download_file(file.file_path)
audio_bytes = await audio_data.read()

# –°—Ç–∞–ª–æ:
file = await global_bot.get_file(msg.voice.file_id)
audio_bytes_io = await global_bot.download(file.file_id)  # –ü—Ä—è–º–æ–π –º–µ—Ç–æ–¥
audio_bytes = audio_bytes_io.read()
```

---

## üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# SaluteSpeech
SALUTESPEECH_CLIENT_ID=your_client_id
SALUTESPEECH_CLIENT_SECRET=your_client_secret
SALUTESPEECH_SCOPE=SALUTE_SPEECH_PERS
SALUTESPEECH_URL=https://smartspeech.sber.ru/rest/v1

# Voice Settings
VOICE_TRANSCRIPTION_ENABLED=true
VOICE_MAX_DURATION_SEC=60
VOICE_CACHE_TTL=86400

# Redis (–¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π)
REDIS_URL=redis://redis:6379
```

---

## üéØ Context7 Best Practices

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è** —á–µ—Ä–µ–∑ IntentClassifier
2. **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫**: –≤–µ–∫—Ç–æ—Ä–Ω—ã–π (Qdrant) + –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π (SearXNG)
3. **GraphRAG**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Neo4j –¥–ª—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–µ–º–∞–º–∏
4. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π** –≤ Redis –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ API –≤—ã–∑–æ–≤–æ–≤
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ bot** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: graceful degradation –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ö—ç—à —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π**: 24 —á–∞—Å–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `VOICE_CACHE_TTL`)
- **–¢–∞–π–º–∞—É—Ç—ã**: 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è SaluteSpeech API, 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è RAG –∑–∞–ø—Ä–æ—Å–æ–≤
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. SaluteSpeech API

- **–õ–∏–º–∏—Ç—ã**: –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–∞—Ä–∏—Ñ–∞ SaluteSpeech
- **–§–æ—Ä–º–∞—Ç**: —Ç–æ–ª—å–∫–æ OGG Opus (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Telegram)
- **–Ø–∑—ã–∫**: –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ä—É—Å—Å–∫–∏–π (ru)

### 2. RAG Service

- **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ LLM (GigaChat)
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 5 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å**: –µ—Å–ª–∏ confidence < 0.5, –±–æ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω SaluteSpeech Service –¥–ª—è async Redis
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ global bot
3. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
4. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
5. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
6. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

### –¢–µ–∫—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ AI?
–ë–æ—Ç: ü§ñ –†–µ–∑—É–ª—å—Ç–∞—Ç:
     [–û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å—Ç–æ–≤]
     
     üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:
     1. [–ö–∞–Ω–∞–ª 1]
     2. [–ö–∞–Ω–∞–ª 2]

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /search –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
–ë–æ—Ç: üîç –†–µ–∑—É–ª—å—Ç–∞—Ç:
     [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞]
```

### –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [–ì–æ–ª–æ—Å–æ–≤–æ–µ: "–ö–∞–∫–∏–µ —Ç—Ä–µ–Ω–¥—ã –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö?"]
–ë–æ—Ç: üé§ –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ:
     –ö–∞–∫–∏–µ —Ç—Ä–µ–Ω–¥—ã –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö?
     
     üîç –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∑–∞–ø—Ä–æ—Å...
–ë–æ—Ç: ü§ñ –†–µ–∑—É–ª—å—Ç–∞—Ç:
     [–û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤]
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã SaluteSpeech

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker compose logs api | grep -i salutespeech`
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã RAG

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker compose logs api | grep -i rag`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Qdrant: –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Neo4j: –≥—Ä–∞—Ñ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- **"–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞"** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `VOICE_TRANSCRIPTION_ENABLED`
- **"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ä–µ—á—å"** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SaluteSpeech API –∫–ª—é—á–∏
- **"–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è"** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API

