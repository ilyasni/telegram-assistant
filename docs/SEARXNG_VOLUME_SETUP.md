# SearXNG - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ volume –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

**–î–∞—Ç–∞**: 2025-02-02

## üîç –ü—Ä–æ–±–ª–µ–º–∞

SearXNG –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Ö–æ—á–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å `/etc/searxng/limiter.toml`. –ü—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª.

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å uid/gid –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ SearXNG

```bash
docker run --rm --entrypoint sh searxng/searxng:latest -c 'id -u; id -g'
```

–û–±—ã—á–Ω–æ —ç—Ç–æ `991:991`, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
# –£–∑–Ω–∞—Ç—å uid/gid –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
UID_GID=$(docker run --rm --entrypoint sh searxng/searxng:latest -c 'echo "$(id -u):$(id -g)"')

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –ø—Ä–∞–≤–∞ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥
sudo chown -R $(echo $UID_GID | cut -d: -f1):$(echo $UID_GID | cut -d: -f2) /opt/telegram-assistant/searxng
sudo chmod -R 755 /opt/telegram-assistant/searxng
```

### 3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ACL –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –î–æ–±–∞–≤–∏—Ç—å ACL, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–≥ –ø–∏—Å–∞—Ç—å, –∞ –≤—ã - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
UID=$(docker run --rm --entrypoint sh searxng/searxng:latest -c 'id -u')
sudo setfacl -R -m u:$UID:rwX -m d:u:$UID:rwX /opt/telegram-assistant/searxng
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å docker-compose.yml

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞—Ç–∞–ª–æ–≥ —Ü–µ–ª–∏–∫–æ–º:

```yaml
volumes:
  - ./searxng:/etc/searxng:rw  # –∫–∞—Ç–∞–ª–æ–≥ —Ü–µ–ª–∏–∫–æ–º, –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
```

## üìã –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∞–º —Å–æ–∑–¥–∞—Å—Ç/–ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç `limiter.toml` –≤–Ω—É—Ç—Ä–∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞
2. ‚úÖ –ù–µ –Ω–∞–¥–æ –≥–æ–Ω—è—Ç—å—Å—è –∑–∞ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
3. ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –æ—Ç —Å–≤–æ–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å ACL)
4. ‚úÖ SearXNG –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ –ø–∏—Å–∞—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la /opt/telegram-assistant/searxng/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å
docker compose exec searxng touch /etc/searxng/test.txt
ls -la /opt/telegram-assistant/searxng/test.txt
docker compose exec searxng rm /etc/searxng/test.txt
```

